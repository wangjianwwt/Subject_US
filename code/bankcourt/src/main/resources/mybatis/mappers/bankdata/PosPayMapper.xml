<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.born.bc.bankdata.dao.PosPayMapper">
	<resultMap id="BaseResultMap" type="com.born.bc.bankdata.entity.PosPay" >
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="TERMINAL_NUMBER" property="terminalNumber" jdbcType="VARCHAR" />
    <result column="TRANSATION_TIME" property="transationTime" jdbcType="VARCHAR" />
    <result column="BANK_NUMBER" property="bankNumber" jdbcType="VARCHAR" />
    <result column="TRANSATION_PRICE" property="transationPrice" jdbcType="VARCHAR" />
    <result column="DIVIDEND_INCOME" property="dividendIncome" jdbcType="VARCHAR" />
    <result column="DIVIDEND_EXPENDITURE" property="dividendExpenditure" jdbcType="VARCHAR" />
    <result column="DUMBO" property="dumbo" jdbcType="VARCHAR" />
    <result column="SERVICE_CHARGE" property="serviceCharge" jdbcType="VARCHAR" />
    <result column="INSTALLMENT_FEE" property="installmentFee" jdbcType="VARCHAR" />
    <result column="NET_PROCEEDS" property="netProceeds" jdbcType="VARCHAR" />
    <result column="TRANSACTION_SEARCHE_NUMBER" property="transactionSearcheNumber" jdbcType="VARCHAR" />
    <result column="TRANSACTION_TYPE" property="transactionType" jdbcType="VARCHAR" />
    <result column="TRANSACTION_DATE" property="transactionDate" jdbcType="VARCHAR" />
    <result column="MONEY_NATURE" property="moneyNature" jdbcType="VARCHAR" />
    <result column="RECEIVABLES_NUMBER" property="receivablesNumber" jdbcType="VARCHAR" />
    <result column="CASE_ID" property="caseId" jdbcType="VARCHAR" />
    <result column="CASE_NUMBER" property="caseNumber" jdbcType="VARCHAR" />
    <result column="IS_EDIT" property="isEdit" jdbcType="INTEGER" />
    <result column="BATCH_NUMBER" property="batchNumber" jdbcType="VARCHAR" />
    <result column="CHIKAR" property="chikar" jdbcType="VARCHAR" />
    <result column="SUBJECT_ID" property="subjectId" jdbcType="VARCHAR" />
    <result column="SUBJECT_NAME" property="subjectName" jdbcType="VARCHAR" />
    <result column="DEPARTMENT_NAME" property="departmentName" jdbcType="VARCHAR" />
    <result column="UNDERTAKER" property="undertaker" jdbcType="VARCHAR" />
    <result column="FORMMAKER_ID" property="formmakerId" jdbcType="VARCHAR" />
    <result column="FORMMAKER_NAME" property="formmakerName" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="LAST_MODIFIED_TIME" property="lastModifiedTime" jdbcType="TIMESTAMP" />
    <result column="DEL_STATUS" property="delStatus" jdbcType="INTEGER" />
  </resultMap>
	<sql id="Base_Column_List">
		ID, TERMINAL_NUMBER, TRANSATION_TIME, BANK_NUMBER, TRANSATION_PRICE, DIVIDEND_INCOME, 
	    DIVIDEND_EXPENDITURE, DUMBO, SERVICE_CHARGE, INSTALLMENT_FEE, NET_PROCEEDS, TRANSACTION_SEARCHE_NUMBER, 
	    TRANSACTION_TYPE, TRANSACTION_DATE, MONEY_NATURE, RECEIVABLES_NUMBER, CASE_ID, CASE_NUMBER, 
	    IS_EDIT, BATCH_NUMBER, CHIKAR, SUBJECT_ID, SUBJECT_NAME, DEPARTMENT_NAME, UNDERTAKER, 
	    FORMMAKER_ID, FORMMAKER_NAME, CREATE_TIME, DEL_STATUS
	</sql>

	<select id="selectByList" parameterType="com.born.bc.bankdata.entity.PosPayParamDto"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from t_pos_pay
		where DEL_STATUS = 0
		<if test="startDate != null">
			and str_to_date(
			TRANSACTION_DATE,
			'%Y-%m-%d %H'
			) &gt; #{startDate, jdbcType=datetime}
		</if>
		<if test="endDate != null">
			and str_to_date(
			TRANSACTION_DATE,
			'%Y-%m-%d %H'
			) &lt; #{endtDate, jdbcType=datetime}
		</if>
	</select>

	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from t_pos_pay
		where ID = #{id,jdbcType=VARCHAR}
	</select>
	<insert id="batchInsertSelective" parameterType="java.util.List">
		insert into t_pos_pay
		<trim prefix="(" suffix=")" suffixOverrides=",">
			ID, TERMINAL_NUMBER, TRANSATION_TIME, BANK_NUMBER, TRANSATION_PRICE, DIVIDEND_INCOME, 
		    DIVIDEND_EXPENDITURE, DUMBO, SERVICE_CHARGE, INSTALLMENT_FEE, NET_PROCEEDS, TRANSACTION_SEARCHE_NUMBER, 
		    TRANSACTION_TYPE, TRANSACTION_DATE, MONEY_NATURE, RECEIVABLES_NUMBER, CASE_ID, CASE_NUMBER, 
		    BATCH_NUMBER, FORMMAKER_ID, FORMMAKER_NAME
		</trim>
		values
		<foreach collection="list" item="item" index="index"
			separator=",">
			<trim prefix="(" suffix=")" suffixOverrides=",">
				#{item.id,jdbcType=VARCHAR}, 
				#{item.terminalNumber,jdbcType=VARCHAR}, 
				#{item.transationTime,jdbcType=VARCHAR}, 
      			#{item.bankNumber,jdbcType=VARCHAR}, 
      			#{item.transationPrice,jdbcType=VARCHAR}, 
      			#{item.dividendIncome,jdbcType=VARCHAR}, 
			    #{item.dividendExpenditure,jdbcType=VARCHAR}, 
			    #{item.dumbo,jdbcType=VARCHAR}, 
			    #{item.serviceCharge,jdbcType=VARCHAR}, 
			    #{item.installmentFee,jdbcType=VARCHAR}, 
			    #{item.netProceeds,jdbcType=VARCHAR}, 
			    #{item.transactionSearcheNumber,jdbcType=VARCHAR}, 
			    #{item.transactionType,jdbcType=VARCHAR}, 
			    #{item.transactionDate,jdbcType=VARCHAR}, 
			    #{item.moneyNature,jdbcType=VARCHAR}, 
			    #{item.receivablesNumber,jdbcType=VARCHAR}, 
			    #{item.caseId,jdbcType=VARCHAR}, 
			    #{item.caseNumber,jdbcType=VARCHAR}, 
			    #{item.batchNumber,jdbcType=VARCHAR},
			    #{item.formmakerId,jdbcType=VARCHAR}, 
			    #{item.formmakerName,jdbcType=VARCHAR}
			</trim>
		</foreach>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.born.bc.bankdata.entity.PosPay">
		update t_pos_pay
	    <set >
	      <if test="terminalNumber != null" >
	        TERMINAL_NUMBER = #{terminalNumber,jdbcType=VARCHAR},
	      </if>
	      <if test="transationTime != null" >
	        TRANSATION_TIME = #{transationTime,jdbcType=VARCHAR},
	      </if>
	      <if test="bankNumber != null" >
	        BANK_NUMBER = #{bankNumber,jdbcType=VARCHAR},
	      </if>
	      <if test="transationPrice != null" >
	        TRANSATION_PRICE = #{transationPrice,jdbcType=VARCHAR},
	      </if>
	      <if test="dividendIncome != null" >
	        DIVIDEND_INCOME = #{dividendIncome,jdbcType=VARCHAR},
	      </if>
	      <if test="dividendExpenditure != null" >
	        DIVIDEND_EXPENDITURE = #{dividendExpenditure,jdbcType=VARCHAR},
	      </if>
	      <if test="dumbo != null" >
	        DUMBO = #{dumbo,jdbcType=VARCHAR},
	      </if>
	      <if test="serviceCharge != null" >
	        SERVICE_CHARGE = #{serviceCharge,jdbcType=VARCHAR},
	      </if>
	      <if test="installmentFee != null" >
	        INSTALLMENT_FEE = #{installmentFee,jdbcType=VARCHAR},
	      </if>
	      <if test="netProceeds != null" >
	        NET_PROCEEDS = #{netProceeds,jdbcType=VARCHAR},
	      </if>
	      <if test="transactionSearcheNumber != null" >
	        TRANSACTION_SEARCHE_NUMBER = #{transactionSearcheNumber,jdbcType=VARCHAR},
	      </if>
	      <if test="transactionType != null" >
	        TRANSACTION_TYPE = #{transactionType,jdbcType=VARCHAR},
	      </if>
	      <if test="transactionDate != null" >
	        TRANSACTION_DATE = #{transactionDate,jdbcType=VARCHAR},
	      </if>
	      <if test="moneyNature != null" >
	        MONEY_NATURE = #{moneyNature,jdbcType=VARCHAR},
	      </if>
	      <if test="receivablesNumber != null" >
	        RECEIVABLES_NUMBER = #{receivablesNumber,jdbcType=VARCHAR},
	      </if>
	      <if test="caseId != null" >
	        CASE_ID = #{caseId,jdbcType=VARCHAR},
	      </if>
	      <if test="caseNumber != null" >
	        CASE_NUMBER = #{caseNumber,jdbcType=VARCHAR},
	      </if>
	      <if test="batchNumber != null" >
	        BATCH_NUMBER = #{batchNumber,jdbcType=VARCHAR},
	      </if>
	      <if test="chikar != null" >
	        CHIKAR = #{chikar,jdbcType=VARCHAR},
	      </if>
	      <if test="subjectId != null" >
	        SUBJECT_ID = #{subjectId,jdbcType=VARCHAR},
	      </if>
	      <if test="subjectName != null" >
	        SUBJECT_NAME = #{subjectName,jdbcType=VARCHAR},
	      </if>
	      <if test="departmentName != null" >
	        DEPARTMENT_NAME = #{departmentName,jdbcType=VARCHAR},
	      </if>
	      <if test="undertaker != null" >
	        UNDERTAKER = #{undertaker,jdbcType=VARCHAR},
	      </if>
	      	IS_EDIT = 1,
	        LAST_MODIFIED_TIME = current_timestamp()
	    </set>
	    where ID = #{id,jdbcType=VARCHAR}
	</update>
</mapper>